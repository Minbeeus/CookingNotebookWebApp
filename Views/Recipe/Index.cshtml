@model IEnumerable<CookingNotebookWebApp.Models.Recipe>

@{
    Layout = "~/Pages/Shared/_Layout.cshtml";
    ViewData["Title"] = "Danh s√°ch c√¥ng th·ª©c";
}

@section Styles {
    <link rel="stylesheet" href="~/css/Recipe/index.css" />
}

<div class="recipe-page">
    <!-- Header -->
    <div class="recipe-header">
        <h2>üç≥ Danh s√°ch c√¥ng th·ª©c</h2>
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="T√¨m c√¥ng th·ª©c..." />
            <button id="searchBtn">üîç</button>
        </div>
    </div>

    <div class="recipe-container">
        <!-- Sidebar b·ªô l·ªçc -->
        <aside class="recipe-sidebar">
            <h3>Lo·∫°i m√≥n ƒÉn</h3>
            <ul id="categoryList">
                <li class="active" data-category="all">T·∫•t c·∫£</li>
                <li data-category="M√≥n ch√≠nh">M√≥n ch√≠nh</li>
                <li data-category="M√≥n khai v·ªã">M√≥n khai v·ªã</li>
                <li data-category="M√≥n tr√°ng mi·ªáng">M√≥n tr√°ng mi·ªáng</li>
                <li data-category="N∆∞·ªõc u·ªëng">N∆∞·ªõc u·ªëng</li>
                <li data-category="M√≥n ƒÉn nh·∫π">M√≥n ƒÉn nh·∫π</li>
                <li data-category="Kh√°c">Kh√°c</li>
            </ul>

            <h3>Th·ªùi gian th·ª±c hi·ªán</h3>
            <ul id="timeList">
                <li class="active" data-time="all">T·∫•t c·∫£</li>
                <li data-time="15">D∆∞·ªõi 15 ph√∫t</li>
                <li data-time="30">15-30 ph√∫t</li>
                <li data-time="60">30-60 ph√∫t</li>
                <li data-time="120">Tr√™n 60 ph√∫t</li>
            </ul>
        </aside>

        <!-- Danh s√°ch c√¥ng th·ª©c -->
        <section class="recipe-content">
            <div class="view-toggle">
                <button id="gridView" class="active">üî≤ D·∫°ng l∆∞·ªõi</button>
                <button id="listView">üìã D·∫°ng danh s√°ch</button>
            </div>

            <div class="recipe-list grid-view" id="recipeList">
                @foreach (var recipe in Model)
                {
                <a href="@Url.Action("Details", "Recipe", new { id = recipe.RecipeId })" class="recipe-link">
                <div class="recipe-card"
                    data-category="M√≥n ch√≠nh"
                    data-time="@(recipe.PrepTime + recipe.CookTime)"
                    data-title="@recipe.Title"
                    data-description="@recipe.Description"
                    data-image="@recipe.ImageUrl"
                    data-preptime="@recipe.PrepTime"
                    data-cooktime="@recipe.CookTime"
                    data-servings="@recipe.Servings"
                    data-author="@recipe.User?.FullName"
                     data-totaltime="@(recipe.PrepTime + recipe.CookTime)">
                    <img src="@recipe.ImageUrl" alt="@recipe.Title" />
                <div class="info">
                    <h4>@recipe.Title</h4>
                <div class="meta">
                    <span>‚è±Ô∏è @(recipe.PrepTime + recipe.CookTime) ph√∫t</span>
                        <span>üë• @recipe.Servings ng∆∞·ªùi</span>
                    </div>
                        <p>@recipe.Description</p>
                        </div>
                        </div>
                    </a>
                }
            </div>
        </section>
    </div>

    <!-- Modal chi ti·∫øt c√¥ng th·ª©c -->
    <div class="recipe-modal" id="recipeModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <img id="modalImage" src="" alt="" />
            <h3 id="modalTitle"></h3>
            <p><strong>T√°c gi·∫£:</strong> <span id="modalAuthor"></span></p>
            <div class="modal-meta">
                <p><strong>Th·ªùi gian chu·∫©n b·ªã:</strong> <span id="modalPrepTime"></span> ph√∫t</p>
                <p><strong>Th·ªùi gian n·∫•u:</strong> <span id="modalCookTime"></span> ph√∫t</p>
                <p><strong>Kh·∫©u ph·∫ßn:</strong> <span id="modalServings"></span> ng∆∞·ªùi</p>
            </div>
            <p id="modalDescription"></p>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/Recipe/index.js"></script>
}
